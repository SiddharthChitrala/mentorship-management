{"ast":null,"code":"var _class;\nimport { catchError } from 'rxjs/operators';\nimport { throwError } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction LoginComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 5)(1, \"p\", 6);\n    i0.ɵɵtext(2, \"Login to system\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\", 7);\n    i0.ɵɵtext(4, \"Please enter your login information or \");\n    i0.ɵɵelementStart(5, \"span\", 8);\n    i0.ɵɵlistener(\"click\", function LoginComponent_div_3_Template_span_click_5_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.toggleForm());\n    });\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \" to register \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"form\", 9);\n    i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_div_3_Template_form_ngSubmit_8_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.login());\n    });\n    i0.ɵɵelementStart(9, \"div\", 10)(10, \"input\", 11);\n    i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_div_3_Template_input_ngModelChange_10_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.email = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"label\", 12);\n    i0.ɵɵtext(12, \"Email\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"div\", 13)(14, \"input\", 14);\n    i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_div_3_Template_input_ngModelChange_14_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.password = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"label\", 15);\n    i0.ɵɵtext(16, \"Password\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"div\", 16)(18, \"button\", 17);\n    i0.ɵɵtext(19, \"Log in\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(ctx_r0.isLoginVisible ? \"click here\" : \"click here\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.email);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r0.password);\n  }\n}\nfunction LoginComponent_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 18)(1, \"p\", 19);\n    i0.ɵɵtext(2, \"Register to system\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\", 20);\n    i0.ɵɵtext(4, \"Please \");\n    i0.ɵɵelementStart(5, \"span\", 8);\n    i0.ɵɵlistener(\"click\", function LoginComponent_ng_template_4_Template_span_click_5_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.toggleForm());\n    });\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \" to login if you have an account \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"form\", 9);\n    i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_ng_template_4_Template_form_ngSubmit_8_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.register());\n    });\n    i0.ɵɵelementStart(9, \"div\", 21)(10, \"input\", 22);\n    i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_ng_template_4_Template_input_ngModelChange_10_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.email = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"label\", 12);\n    i0.ɵɵtext(12, \"Email address\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(13, \"div\", 21)(14, \"input\", 23);\n    i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_ng_template_4_Template_input_ngModelChange_14_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.username = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"label\", 12);\n    i0.ɵɵtext(16, \"Username\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(17, \"div\", 21)(18, \"input\", 14);\n    i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_ng_template_4_Template_input_ngModelChange_18_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.password = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(19, \"label\", 15);\n    i0.ɵɵtext(20, \"Password\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(21, \"div\", 24)(22, \"select\", 25);\n    i0.ɵɵlistener(\"ngModelChange\", function LoginComponent_ng_template_4_Template_select_ngModelChange_22_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.role = $event);\n    });\n    i0.ɵɵelementStart(23, \"option\", 26);\n    i0.ɵɵtext(24, \"Student\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(25, \"option\", 27);\n    i0.ɵɵtext(26, \"Mentor\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(27, \"option\", 28);\n    i0.ɵɵtext(28, \"Admin\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(29, \"label\", 29);\n    i0.ɵɵtext(30, \"Role\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(31, \"div\", 30)(32, \"button\", 17);\n    i0.ɵɵtext(33, \"Register\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(ctx_r2.isLoginVisible ? \"click here\" : \"click here\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.email);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.username);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.password);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.role);\n  }\n}\nexport class LoginComponent {\n  constructor(http, router) {\n    this.http = http;\n    this.router = router;\n    this.isLoginVisible = true;\n    this.username = '';\n    this.email = '';\n    this.password = '';\n    this.role = 0;\n  }\n  toggleForm() {\n    this.isLoginVisible = !this.isLoginVisible;\n  }\n  register() {\n    this.http.post('http://localhost:9000/register', {\n      username: this.username,\n      email: this.email,\n      password: this.password,\n      role: this.role\n    }).pipe(catchError(error => {\n      console.error('Registration error:', error);\n      if (error.status === 401) {\n        return throwError('Registration failed: Invalid credentials');\n      } else {\n        return throwError('Registration failed: An error occurred');\n      }\n    })).subscribe(response => {\n      console.log(response.message);\n      if (response.role === 0) {\n        this.router.navigate(['/student']);\n      } else if (response.role === 1) {\n        this.router.navigate(['/teacher']);\n      } else if (response.role === 2) {\n        this.router.navigate(['/admin']);\n      }\n    });\n  }\n  login() {\n    this.http.post('http://localhost:9000/login', {\n      email: this.email,\n      password: this.password\n    }).pipe(catchError(error => {\n      console.error('Login error:', error);\n      if (error.status === 401) {\n        return throwError('Login failed: Invalid credentials');\n      } else {\n        return throwError('Login failed: An error occurred');\n      }\n    })).subscribe(response => {\n      console.log('API Response:', response); // Debugging line\n      console.log(response.message);\n      console.log('User role:', response.role);\n      if (typeof response.role === 'number') {\n        if (response.role === 0) {\n          this.router.navigate(['/student']);\n        } else if (response.role === 1) {\n          this.router.navigate(['/teacher']);\n        } else if (response.role === 2) {\n          this.router.navigate(['/admin']);\n        } else {\n          console.error('Invalid user role:', response.role);\n        }\n      } else {\n        console.error('Invalid role data:', response.role);\n      }\n    });\n  }\n}\n_class = LoginComponent;\n_class.ɵfac = function LoginComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.Router));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-login\"]],\n  decls: 6,\n  vars: 2,\n  consts: [[\"id\", \"section1\"], [1, \"container\"], [1, \"row\"], [\"class\", \"col-lg-10\", \"id\", \"col1\", 4, \"ngIf\", \"ngIfElse\"], [\"signupSection\", \"\"], [\"id\", \"col1\", 1, \"col-lg-10\"], [1, \"fs-3\", \"fw-bold\", 2, \"margin\", \"5vh 2vh 5vh 5vh\"], [1, \"fs-5\", 2, \"margin\", \"5vh 5vh 1vh 5vh\"], [3, \"click\"], [3, \"ngSubmit\"], [1, \"form-floating\", \"mb-3\", 2, \"margin\", \"4vh 35vh 5vh 5vh\"], [\"type\", \"email\", \"id\", \"floatingInput\", \"placeholder\", \"email\", \"name\", \"email\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"floatingInput\"], [1, \"form-floating\", \"mb-3\", 2, \"margin\", \"3vh 35vh 5vh 5vh\"], [\"type\", \"password\", \"id\", \"floatingPassword\", \"placeholder\", \"Password\", \"name\", \"password\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"floatingPassword\"], [1, \"button\", 2, \"margin\", \"5vh 35vh 5vh 5vh\"], [\"type\", \"submit\", \"id\", \"btn\"], [\"id\", \"col2\", 1, \"col-lg-10\"], [1, \"fs-3\", \"fw-bold\", 2, \"margin\", \"1vh 2vh 3vh 49vh\"], [1, \"fs-5\", 2, \"margin\", \"1vh 2vh 1vh 21vh\"], [1, \"form-floating\", \"mb-2\", 2, \"margin\", \"1vh 5vh 5vh 35vh\"], [\"type\", \"email\", \"id\", \"floatingInput\", \"placeholder\", \"Email address\", \"name\", \"email\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"text\", \"id\", \"floatingInput\", \"placeholder\", \"Username\", \"name\", \"username\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"form-floating\", 2, \"margin\", \"1vh 5vh 5vh 35vh\"], [\"id\", \"floatingSelect\", \"aria-label\", \"Floating label select example\", \"name\", \"role\", 1, \"form-select\", 3, \"ngModel\", \"ngModelChange\"], [\"value\", \"0\"], [\"value\", \"1\"], [\"value\", \"2\"], [\"for\", \"floatingSelect\"], [1, \"button\", 2, \"margin\", \"1vh 5vh 5vh 35vh\"]],\n  template: function LoginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"section\", 0)(1, \"div\", 1)(2, \"div\", 2);\n      i0.ɵɵtemplate(3, LoginComponent_div_3_Template, 20, 3, \"div\", 3);\n      i0.ɵɵtemplate(4, LoginComponent_ng_template_4_Template, 34, 5, \"ng-template\", null, 4, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      const _r1 = i0.ɵɵreference(5);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.isLoginVisible)(\"ngIfElse\", _r1);\n    }\n  },\n  dependencies: [i3.NgIf, i4.ɵNgNoValidate, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.DefaultValueAccessor, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.NgModel, i4.NgForm],\n  styles: [\".container[_ngcontent-%COMP%] {\\n    background-color: rgb(255, 255, 255);\\n    margin-top: 5vh;\\n    height: 80vh;\\n    width: 150vh;\\n    border-radius: 1px;\\n    background-image: url('background.webp');\\n    background-size: cover;\\n    background-repeat: no-repeat;\\n    box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;\\n}\\n\\n#col1[_ngcontent-%COMP%] {\\n    background-color: rgb(255, 255, 255);\\n    height: 80vh;\\n    width: 100vh;\\n    border-radius: 0 40px 40px 0;\\n}\\n\\n#col2[_ngcontent-%COMP%] {\\n    background-color: rgb(255, 255, 255);\\n    height: 80vh;\\n    margin-left: 50vh;\\n    width: 100vh;\\n    border-radius:  40px 0 0 40px;\\n}\\n\\n#btn[_ngcontent-%COMP%] {\\n    border: #fff;\\n    background: linear-gradient(90deg, rgb(255, 255, 255) 0%, rgba(199,151,14,0.9239133519618785) 0%, rgba(242,93,47,1) 55%);\\n    width: 40vh;\\n    height: 7vh;\\n    border-radius: 20px;\\n    color: #fff;\\n}\\n\\nspan[_ngcontent-%COMP%]{\\n    color: #fa5d5d;\\n    text-decoration: underline;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvbG9naW4vbG9naW4uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtJQUNJLG9DQUFvQztJQUNwQyxlQUFlO0lBQ2YsWUFBWTtJQUNaLFlBQVk7SUFDWixrQkFBa0I7SUFDbEIsd0NBQXVEO0lBQ3ZELHNCQUFzQjtJQUN0Qiw0QkFBNEI7SUFDNUIsNENBQTRDO0FBQ2hEOztBQUVBO0lBQ0ksb0NBQW9DO0lBQ3BDLFlBQVk7SUFDWixZQUFZO0lBQ1osNEJBQTRCO0FBQ2hDOztBQUVBO0lBQ0ksb0NBQW9DO0lBQ3BDLFlBQVk7SUFDWixpQkFBaUI7SUFDakIsWUFBWTtJQUNaLDZCQUE2QjtBQUNqQzs7QUFFQTtJQUNJLFlBQVk7SUFDWix3SEFBd0g7SUFDeEgsV0FBVztJQUNYLFdBQVc7SUFDWCxtQkFBbUI7SUFDbkIsV0FBVztBQUNmOztBQUVBO0lBQ0ksY0FBYztJQUNkLDBCQUEwQjtBQUM5QiIsInNvdXJjZXNDb250ZW50IjpbIi5jb250YWluZXIge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDI1NSwgMjU1LCAyNTUpO1xyXG4gICAgbWFyZ2luLXRvcDogNXZoO1xyXG4gICAgaGVpZ2h0OiA4MHZoO1xyXG4gICAgd2lkdGg6IDE1MHZoO1xyXG4gICAgYm9yZGVyLXJhZGl1czogMXB4O1xyXG4gICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKC4uLy4uL2Fzc2V0cy9pbWcvYmFja2dyb3VuZC53ZWJwKTtcclxuICAgIGJhY2tncm91bmQtc2l6ZTogY292ZXI7XHJcbiAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xyXG4gICAgYm94LXNoYWRvdzogcmdiYSgwLCAwLCAwLCAwLjM1KSAwcHggNXB4IDE1cHg7XHJcbn1cclxuXHJcbiNjb2wxIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYigyNTUsIDI1NSwgMjU1KTtcclxuICAgIGhlaWdodDogODB2aDtcclxuICAgIHdpZHRoOiAxMDB2aDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDAgNDBweCA0MHB4IDA7XHJcbn1cclxuXHJcbiNjb2wyIHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYigyNTUsIDI1NSwgMjU1KTtcclxuICAgIGhlaWdodDogODB2aDtcclxuICAgIG1hcmdpbi1sZWZ0OiA1MHZoO1xyXG4gICAgd2lkdGg6IDEwMHZoO1xyXG4gICAgYm9yZGVyLXJhZGl1czogIDQwcHggMCAwIDQwcHg7XHJcbn1cclxuXHJcbiNidG4ge1xyXG4gICAgYm9yZGVyOiAjZmZmO1xyXG4gICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KDkwZGVnLCByZ2IoMjU1LCAyNTUsIDI1NSkgMCUsIHJnYmEoMTk5LDE1MSwxNCwwLjkyMzkxMzM1MTk2MTg3ODUpIDAlLCByZ2JhKDI0Miw5Myw0NywxKSA1NSUpO1xyXG4gICAgd2lkdGg6IDQwdmg7XHJcbiAgICBoZWlnaHQ6IDd2aDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDIwcHg7XHJcbiAgICBjb2xvcjogI2ZmZjtcclxufVxyXG5cclxuc3BhbntcclxuICAgIGNvbG9yOiAjZmE1ZDVkO1xyXG4gICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"names":["catchError","throwError","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","LoginComponent_div_3_Template_span_click_5_listener","ɵɵrestoreView","_r4","ctx_r3","ɵɵnextContext","ɵɵresetView","toggleForm","LoginComponent_div_3_Template_form_ngSubmit_8_listener","ctx_r5","login","LoginComponent_div_3_Template_input_ngModelChange_10_listener","$event","ctx_r6","email","LoginComponent_div_3_Template_input_ngModelChange_14_listener","ctx_r7","password","ɵɵadvance","ɵɵtextInterpolate","ctx_r0","isLoginVisible","ɵɵproperty","LoginComponent_ng_template_4_Template_span_click_5_listener","_r9","ctx_r8","LoginComponent_ng_template_4_Template_form_ngSubmit_8_listener","ctx_r10","register","LoginComponent_ng_template_4_Template_input_ngModelChange_10_listener","ctx_r11","LoginComponent_ng_template_4_Template_input_ngModelChange_14_listener","ctx_r12","username","LoginComponent_ng_template_4_Template_input_ngModelChange_18_listener","ctx_r13","LoginComponent_ng_template_4_Template_select_ngModelChange_22_listener","ctx_r14","role","ctx_r2","LoginComponent","constructor","http","router","post","pipe","error","console","status","subscribe","response","log","message","navigate","ɵɵdirectiveInject","i1","HttpClient","i2","Router","selectors","decls","vars","consts","template","LoginComponent_Template","rf","ctx","ɵɵtemplate","LoginComponent_div_3_Template","LoginComponent_ng_template_4_Template","ɵɵtemplateRefExtractor","_r1"],"sources":["D:\\full stack mern,mean,java\\mentorship management\\smart-assignment-frontend\\src\\app\\login\\login.component.ts","D:\\full stack mern,mean,java\\mentorship management\\smart-assignment-frontend\\src\\app\\login\\login.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { HttpClient, HttpErrorResponse } from '@angular/common/http';\nimport { Router } from '@angular/router';\nimport { catchError } from 'rxjs/operators';\nimport { throwError } from 'rxjs';\n\ninterface ApiResponse {\n  message: string;\n  role: number;\n}\n\n@Component({\n  selector: 'app-login',\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})\nexport class LoginComponent {\n  isLoginVisible: boolean = true;\n  username: string = '';\n  email: string = '';\n  password: string = '';\n  role: number = 0;\n\n  constructor(private http: HttpClient, private router: Router) { }\n\n  toggleForm() {\n    this.isLoginVisible = !this.isLoginVisible;\n  }\n\n  register(): void {\n    this.http.post<ApiResponse>('http://localhost:9000/register', {\n      username: this.username,\n      email: this.email,\n      password: this.password,\n      role: this.role\n    }).pipe(\n      catchError((error: HttpErrorResponse) => {\n        console.error('Registration error:', error);\n        if (error.status === 401) {\n          return throwError('Registration failed: Invalid credentials');\n        } else {\n          return throwError('Registration failed: An error occurred');\n        }\n      })\n    ).subscribe(\n      response => {\n        console.log(response.message);\n        if (response.role === 0) {\n          this.router.navigate(['/student']);\n        } else if (response.role === 1) {\n          this.router.navigate(['/teacher']);\n        } else if (response.role === 2) {\n          this.router.navigate(['/admin']);\n        }\n      }\n    );\n  }\n\n  login(): void {\n    this.http.post<ApiResponse>('http://localhost:9000/login', {\n      email: this.email,\n      password: this.password\n    }).pipe(\n      catchError((error: HttpErrorResponse) => {\n        console.error('Login error:', error);\n        if (error.status === 401) {\n          return throwError('Login failed: Invalid credentials');\n        } else {\n          return throwError('Login failed: An error occurred');\n        }\n      })\n    ).subscribe(\n      response => {\n        console.log('API Response:', response); // Debugging line\n        console.log(response.message);\n        console.log('User role:', response.role);\n  \n        if (typeof response.role === 'number') {\n          if (response.role === 0) {\n            this.router.navigate(['/student']);\n          } else if (response.role === 1) {\n            this.router.navigate(['/teacher']);\n          } else if (response.role === 2) {\n            this.router.navigate(['/admin']);\n          } else {\n            console.error('Invalid user role:', response.role);\n          }\n        } else {\n          console.error('Invalid role data:', response.role);\n        }\n      }\n    );\n  }\n  \n  \n}\n","<section id=\"section1\">\n    <div class=\"container\">\n        <div class=\"row\">\n            <div class=\"col-lg-10\" *ngIf=\"isLoginVisible; else signupSection\" id=\"col1\">\n                <p class=\"fs-3 fw-bold\" style=\"margin: 5vh 2vh 5vh 5vh;\">Login to system</p>\n                <p class=\"fs-5\" style=\"margin: 5vh 5vh 1vh 5vh;\">Please enter your login information or\n                    <span (click)=\"toggleForm()\">{{ isLoginVisible ? 'click here' : 'click here' }}</span>\n                    to register\n                </p>\n\n                <form (ngSubmit)=\"login()\">\n                    <div class=\"form-floating mb-3 \" style=\"margin: 4vh 35vh 5vh 5vh;\">\n                        <input type=\"email\" class=\"form-control\" id=\"floatingInput\" placeholder=\"email\" [(ngModel)]=\"email\" name=\"email\">\n                        <label for=\"floatingInput\">Email</label>\n                    </div>\n                    <div class=\"form-floating mb-3\" style=\"margin: 3vh 35vh 5vh 5vh;\">\n                        <input type=\"password\" class=\"form-control\" id=\"floatingPassword\" placeholder=\"Password\" [(ngModel)]=\"password\" name=\"password\">\n                        <label for=\"floatingPassword\">Password</label>\n                    </div>\n                    <div class=\"button\" style=\"margin: 5vh 35vh 5vh 5vh;\">\n                        <button type=\"submit\" id=\"btn\">Log in</button>\n                    </div>\n                </form>\n            </div>\n            <ng-template #signupSection>\n                <div class=\"col-lg-10\" id=\"col2\">\n                    <p class=\"fs-3 fw-bold\" style=\"margin: 1vh 2vh 3vh 49vh;\">Register to system</p>\n                    <p class=\"fs-5\" style=\"margin: 1vh 2vh 1vh 21vh;\">Please\n                        <span (click)=\"toggleForm()\">{{ isLoginVisible ? 'click here' : 'click here' }}</span>\n                        to login if you have an account\n                    </p>\n                    <form (ngSubmit)=\"register()\">\n                        <div class=\"form-floating mb-2\" style=\"margin: 1vh 5vh 5vh 35vh;\">\n                            <input type=\"email\" class=\"form-control\" id=\"floatingInput\" placeholder=\"Email address\" [(ngModel)]=\"email\"name=\"email\" >\n                            <label for=\"floatingInput\">Email address</label>\n                        </div>\n                        <div class=\"form-floating mb-2 \" style=\"margin: 1vh 5vh 5vh 35vh;\">\n                            <input type=\"text\" class=\"form-control\" id=\"floatingInput\" placeholder=\"Username\" [(ngModel)]=\"username\" name=\"username\">\n                            <label for=\"floatingInput\">Username</label>\n                        </div>\n                        <div class=\"form-floating mb-2\" style=\"margin: 1vh 5vh 5vh 35vh;\">\n                            <input type=\"password\" class=\"form-control\" id=\"floatingPassword\" placeholder=\"Password\" [(ngModel)]=\"password\" name=\"password\">\n                            <label for=\"floatingPassword\">Password</label>\n                        </div>\n                        <div class=\"form-floating\" style=\"margin: 1vh 5vh 5vh 35vh;\">\n                            <select class=\"form-select\" id=\"floatingSelect\" aria-label=\"Floating label select example\" [(ngModel)]=\"role\" name=\"role\">\n                                <option value=\"0\" >Student</option>\n                                <option value=\"1\" >Mentor</option>\n                                <option value=\"2\"  >Admin</option>\n                            </select>\n                            <label for=\"floatingSelect\">Role</label>\n                        </div>\n                        <div class=\"button\" style=\"margin: 1vh 5vh 5vh 35vh;\">\n                            <button type=\"submit\" id=\"btn\">Register</button>\n                        </div>\n                    </form>\n                </div>\n            </ng-template>\n        </div>\n    </div>\n</section>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}